<?xml version="1.0" encoding="utf-8" ?>
<Page
    x:Class="kafi.Views.MenuPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:controls="using:CommunityToolkit.WinUI.Controls"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="using:kafi.Views"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:model="using:kafi.Models"
    xmlns:muxc="using:Microsoft.UI.Xaml.Controls"
    xmlns:viewmodels="using:kafi.ViewModels"
    mc:Ignorable="d">
    <Page.DataContext>
        <viewmodels:MenuViewModel />
    </Page.DataContext>
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <!--  Categories - 5 columns  -->
        <ItemsView
            x:Name="Category"
            Grid.Row="0"
            Margin="10,0"
            ItemsSource="{Binding Categories}"
            SelectionChanged="Category_SelectionChanged"
            SelectionMode="Single">
            <ItemsView.Layout>
                <UniformGridLayout
                    ItemsJustification="SpaceBetween"
                    MaximumRowsOrColumns="5"
                    MinColumnSpacing="20"
                    MinItemWidth="220"
                    MinRowSpacing="20" />
            </ItemsView.Layout>
            <ItemsView.ItemTemplate>
                <DataTemplate x:DataType="model:Category">
                    <!--  Background="{Binding IsSelected, Converter={StaticResource SelectedToBackgroundConverter}, Mode=OneWay}"  -->
                    <ItemContainer Background="#A4BBAA" CornerRadius="35">
                        <StackPanel Padding="20" Spacing="10">
                            <Image
                                HorizontalAlignment="Center"
                                VerticalAlignment="Center"
                                Source="{Binding Image}"
                                Stretch="None" />
                            <TextBlock
                                HorizontalAlignment="Center"
                                FontSize="16"
                                Foreground="White"
                                Text="{Binding Name}" />
                        </StackPanel>
                    </ItemContainer>
                </DataTemplate>
            </ItemsView.ItemTemplate>
        </ItemsView>
        <Border
            Grid.Row="1"
            Height="2"
            Margin="10,20"
            Background="Black" />
        <!--  Menu Items - 6 columns  -->
        <ItemsView
            Grid.Row="2"
            Margin="10"
            ItemsSource="{Binding MenuItems}"
            SelectionMode="Single">
            <ItemsView.Layout>
                <UniformGridLayout
                    MaximumRowsOrColumns="6"
                    MinColumnSpacing="20"
                    MinItemWidth="240"
                    MinRowSpacing="20" />
            </ItemsView.Layout>
            <ItemsView.ItemTemplate>
                <DataTemplate>
                    <ItemContainer>
                        <StackPanel
                            Padding="10"
                            Background="White"
                            CornerRadius="10"
                            Orientation="Vertical"
                            Spacing="10">
                            <TextBlock
                                FontFamily="{StaticResource LexendBold}"
                                FontSize="15"
                                FontWeight="Bold"
                                Text="{Binding Name}"
                                TextAlignment="Center" />
                            <TextBlock
                                FontSize="16"
                                Foreground="Gray"
                                Text="{Binding Price}"
                                TextAlignment="Center" />
                            <Image Source="{Binding Image}" Stretch="None" />
                        </StackPanel>
                    </ItemContainer>
                </DataTemplate>
            </ItemsView.ItemTemplate>
        </ItemsView>
    </Grid>
</Page>
